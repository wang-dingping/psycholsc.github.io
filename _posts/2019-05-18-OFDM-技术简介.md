---
layout: post
comments: true
title:  "OFDM 技术简介"
excerpt: "-"
date:   2019-05-18 12:42:24 +0000
categories: Notes
---

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
---

[TOC]

{% comment %}

## MIMO 信道模型

## 1. MIMO统计信道模型

首先考虑`SIMO`模型，单天线发射，多天线接收的模型，我们假设接受阵列是一个线性阵列，则容易计算其流形矩阵，此时可以考虑方向场问题，不过不会对推导产生较大影响。可以将信号传递的信道看成是一个受角度与延迟影响的矩阵，则可以根据阵列天线的特性求解`PADS`以及相应的`PAS`和`PDS`，即功率方位-延迟谱、功率方位（角度）谱、功率时延谱。发射天线的阵列间隔一般是$$\lambda/2$$，而接收基站之间的距离往往是$$10-40\lambda$$。`PDS`的中心距（其实就是方差）被称为时延扩展，一般是指数函数的分布（即拉普拉斯分布）。

这里需要知道 ，功率时延谱是离散谱线，衰减；功率角度谱一般是拉普拉斯衰减；而`AoA`往往是以真实方向为中心的高斯分布。

### 1.1 空间相关性

以两个天线为例，两个天线接收到的信号实际上只是存在一个与方向（角度）相关的相位差而已，通过计算相关函数很容易得到空间相关函数（注意要计算共轭）。

计算得到空间相关性取决于`AoA`，`PAS`，以及天线间距（直接影响延迟）。天线之间的间距会影响到相关性，而相关性较大的时候会降低信道容量和分集增益，因此要保证较大的间隔，主要为了降低相关性。

### 1.2 PAS模型

$$P(\varPhi)$$实际上个就是所谓的`PAS`，这样一看其实就类似于我们在功率谱估计课程中得到的结果。在不同的地方测得的结果往往是不同的。一般建模会认为，移动台处的`PAS`模型是各种不同分布，但是在基站处往往是均匀分布的。

一般而言`PAS`的`AS`是很小的，这意味着所有信号在大多数情况下都是以一个很小的方向范围入射的，这也表示了`PAS`往往稀疏。但是在室内等条件下，`PAS`的角度范围就会很大，并呈现出一定的均匀分布特点。常见模型有

- 余弦`n`次幂模型。随着`n`增大，`PAS`变窄。此时的相关函数没有显式的表达。
- 均匀分布模型。富散射场景（例如室内建模），在给定角度中是均匀分布的。此时的空间相关函数是贝塞尔函数组合形式。
- 截断高斯模型。随着方差增大，`AS`增大。由于截断，所以需要归一化因子。
- 截断拉普拉斯模型。用于宏蜂窝和微蜂窝环境 ，功率分布为截断的双边指数分布。

通过上述的建模与运算，我们可以有效设置天线间隔等参数。

另外存在一个多簇的问题。除了本地散射分量外，在移动台附近还存在主散射分量，则移动台将接受到具有不同到达角和`PAS`的多簇信号。室内可以观察到，



## 2. I-METRA MIMO信道

### 2.1 相关MIMO衰落信道的统计模型

智能多发多收天线模型，常用与`MIMO`建模。

假设基站`M`天线，移动台`N`根天线。已知发射接收天线阵列的相关形式，理论上可以构造任意的`MIMO`信道。

瑞利衰落信道。对于窄带高斯过程，其包络或者说能量是服从瑞利分布的，我们称这样的信道是瑞利信道。衰落的概念就是，信号在经过信道之后出现了包络的变化，由于包络是瑞利的，所以是瑞利衰落信道。一般此时的信道矩阵就是iid高斯分布的，恒包络窄带信号经过这样的信道，其包络就是瑞利分布。



由于我们假设信号的实部虚部都是服从高斯分布的，因此信号的模就是服从瑞利分布的。在典型的场景中，一般会让移动台处的天线间距大于等于$$\lambda/2$$来避免接收信号的相关性。

### 2.2 相关MIMO信道系数产生

没啥子可说的，都看不懂

### 2.3 I-METRA MIMO信道模型

莱斯衰落就是存在直通主径传输的条件下的瑞利衰落。

---

看了一整天，要不就是我看不懂，要不就是我早就会了的东西。

{% endcomment %}

## OFDM概述

## 1. 单载波传输与多载波传输

### 1.1 单载波传输

为了支持每秒传输$$R_S$$的符号速率，所需要的最小带宽是奈奎斯特带宽，$$R_S/2 \:Hz$$。这将意味着在单载波传输系统中，需要更大的传输带宽来支持更高的速率。信号带宽随着符号速率的增大而增大，当带宽终于大于无线信道的相干带宽时，链路将受到多径衰落的影响，从而产生`ISI`。在这种情况下可能需要更为复杂的均衡器对结果进行校正，但是越复杂的均衡器也越难以设计，且导致更大的延迟等问题。



> 我个人目前的理解来看，不同的多径条件下，信道的相干带宽不同。因为不同多径条件下，产生的多径时延是不同的，这样会导致接收到同一个信号的不同延迟（以及不同幅度的）的线性组合。
>
> 此时信号是在一个载频中的，如果延迟（时延拓展）过大，此时一般定义下的相干带宽为时延拓展的倒数，此数值就会减小。当减小到一定程度时，例如与载频相近的时候，我们多径衰落中不同延迟的信号会出现较大的相关性，此时会导致出现频率选择性衰落。



在多径信道中部署均衡器也会变得越来越困难，因为最优均衡器采用最大似然方法最大化后验概率判决，其复杂度很高，采用次优均衡器在数据速率较大的时候仍然是复杂度极高的，难以在实际中实现——信道频率选择性增加，均衡器的频响变得更为陡峭。

这些是在说，单载波实现高速率是不可行的，不仅是相干带宽中导致`ISI`的问题，还有均衡器难以设计的问题。

### 1.2 多载波传输

#### 1. 基本结构

为了克服所谓的宽带信道频率选择性对单载波传输的影响，自然就是考虑多载波。多载波传输的基本思想是，在发射机上采用多个窄带滤波器，将宽带信号分解为若干窄带信号；接收机上同样设置相匹配的窄带滤波器将信号进行合成。这样，一个频率选择性衰落信道将被近似地划分为若干个平坦的窄带信道，其非频率选择性将可以降低每个子信道上均衡器的复杂度。如果可以保证信道之间的正交性，就可以抑制载波之间的干扰，实现无失真传输。

可以将多载波看作是频分多址`FDMA`的思想。

不过虽然这种方法解决了频率选择性衰落的问题，但是却带来了新的问题。振荡器的精度以及滤波器的设计等问题变得更加复杂，甚至还需要配套设计更多的编解码器。

#### 2. OFDM传输方案

即**正交频分复用**方案。

多信道传输方案的另一种形式，与所谓的`FMT`方案类似，首先将编码（信源编码）后的串行信号转换为并行信号，然后做不同载频的调制，接收端做解调后积分转串行即可得到结果。这样一看其实`OFDM`并没有采用独立的滤波器和振荡器，而且子载波功率谱之间是相互重叠的（为了带宽效率）。所以其实并没有将宽带信道分为若干正交子信道，实际应用中人们有时还会采用先进行`DFT`，然后传输`DFT`结果的方法，这将有利于实现信号的正交性。

#### 3. FMT传输方案

对串行传并行后的信号做过采样，经过正交滤波器组后发射，匹配滤波接收后进行同样倍数下采样判决。

### 1.3 单载波与多载波

总结，这里略过

## 2. OFDM基本原理

### 2.1 正交性

两个不同频率信号在一个公共周期（基本周期）内的乘积的积分（或离散求和）为$$0$$。 

正交载波保证了`OFDM`不会出现载波之间的互相干扰`ICI`。

### 2.2 OFDM的调制解调

发射机调制主要是将信息比特流映射为`PSK`或`QAM`符号序列，然后将序列转换为`N`个并行流。

我们注意到框图中的`OFDM`过程是在发射机进行反变换`IFFT`，而在接收机进行正变换`FFT`的，与常识相反。由于使用了正交子载波，因此这样的选择是有意义的。由于采用的是正交复载频，其形式相当于傅里叶变换，我们对结果进行反变换就会得到发射的信号，同样在接收端，我们收到的信号与同步载波解调的时候，其形式又相当于傅里叶变换，如此又可以快速实现。这样看来，似乎`OFDM`调制解调过程都可以用`FFT`快速完成。

### 2.3 OFDM保护间隔

由于多径信道产生的影响，我们需要对`OFDM`做一些处理。

多径信道的时域响应较为复杂，也正因如此出现了频域的陷落，出现频率选择性衰落。这时由于多径影响，原本正交的载频由于相位问题就不再正交了，出现了强相关性。改进方法是增加保护间隔。

保护间隔的插入方法有两种，一种是补零`ZP`，一种是循环前缀`CP`或循环后缀`CS`。如果保护间隔大于最大时延，此时就可以避免因时延而产生的串扰，让符号独立开。而这种复制还有利于保持载波的正交性。当然即使是这样，在同步信号没有选择正确的时候，`FFT`窗的位置没有正确选择，仍然会有`ISI`或者`ICI`产生。

循环后缀相似，补零方法，其实还是会复制一部分保护间隔。但是由于是从后面的间隔复制到前面的间隔，因此效率下降比较明显。

### 2.4 OFDM 保护频带

如果将`OFDM`信号的每个子载波看作是单音信号与长度为$$T_{sub}$$的矩形窗相乘，其中矩形窗相乘，在频域不同相移的结果就相当于移位的`sinc`和。可以说信号的功率谱也是许多频移后的`sinc`函数的总和。可以看出带外功率很大，容易出现邻道干扰。为了防止影响，会加入保护频带。常见方法可以是使用时域加窗方法，例如升余弦窗等，带外功率随着滚降系数的增加而减小。

### 2.5 频域注水算法









